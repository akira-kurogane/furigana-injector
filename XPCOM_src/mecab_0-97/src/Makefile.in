DEPTH        = ../../../../..
topsrcdir    = @top_srcdir@
srcdir        = @srcdir@
VPATH        = @srcdir@

include $(DEPTH)/config/autoconf.mk

LIBRARY_NAME =  mecab
USE_STATIC_LIBS = 1
FORCE_STATIC_LIB=1

XPI_NAME = furiganainjector

CPPSRCS        = \
    char_property.cpp \
    connector.cpp \
    context_id.cpp \
    dictionary.cpp \
    dictionary_compiler.cpp \
    dictionary_generator.cpp \
    dictionary_rewriter.cpp \
    eval.cpp \
    feature_index.cpp \
    iconv_utils.cpp \
    lbfgs.cpp \
    learner.cpp \
    learner_tagger.cpp \
    libmecab.cpp \
    nbest_generator.cpp \
    param.cpp \
    string_buffer.cpp \
    tagger.cpp \
    tokenizer.cpp \
    utils.cpp \
    viterbi.cpp \
    writer.cpp \
    $(NULL)

DEFINES += -DHAVE_CONFIG_H
DEFINES += -DDIC_VERSION=102
DEFINES += -DMECAB_DEFAULT_RC=\"/etc/mecabrc\"
#Sadly, using -DMECAB_USE_UTF8_ONLY is pointless as iconv_utils.cpp is still used in several places.
#DEFINES += -DMECAB_USE_UTF8_ONLY

LOCAL_INCLUDES += -I$(srcdir)/..

#No EXTRA_DSO_LDOPTS- EXTRA_DSO_LDOPTS specifies linker flags necessary for building a shared library. The variable is not used when linking a static library or a program.


#GARBAGE += sqlite-version.h
#
#sqlite-version.h: sqlite-version.py sqlite3.h
#    $(PYTHON) $^ > $@
#export:: sqlite-version.h


include $(topsrcdir)/config/rules.mk

