DEPTH		= ../../../..
topsrcdir	= @top_srcdir@
srcdir		= @srcdir@
VPATH		= @srcdir@

include $(DEPTH)/config/autoconf.mk

IS_COMPONENT = 1

MODULE = furiganainjector
LIBRARY_NAME =  SimpleMecab
USE_STATIC_LIBS = 1

XPI_NAME = furiganainjector

#Should mecab be one of the requires?
REQUIRES	= xpcom \
		  string \
		  $(NULL)

CPPSRCS		= \
                  SimpleMecabModule.cpp \
                  SimpleMecab.cpp \
                  $(NULL)

#For reasons I don't understand, SimpleMecab.cpp is being compiled even without this include dir, when compiled on linux
LOCAL_INCLUDES +=-I$(srcdir)/../mecab_0-97/src

#EXTRA_LIBS += -L../mecab_0-97/src -lmecab	#Linux style
SHARED_LIBRARY_LIBS = ../mecab_0-97/src/$(LIB_PREFIX)mecab.$(LIB_SUFFIX)


include $(topsrcdir)/config/rules.mk

EXTRA_DSO_LDOPTS += \
  $(XPCOM_GLUE_LDOPTS) \
  $(NSPR_LIBS) \
  $(NULL)

